{"remainingRequest":"D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\src\\views\\meal\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\src\\views\\meal\\edit.vue","mtime":1688954680000},{"path":"D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688952586000},{"path":"D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1688952406000},{"path":"D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688952586000},{"path":"D:\\ws_yutang\\yuTang20230821\\yuTang20230821\\motor-admin-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1688954532000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgllZGl0TWVhbCwKfSBmcm9tICJAL2FwaS9tZWFsIjsKCmltcG9ydCB7CgltYXBTdGF0ZQp9IGZyb20gJ3Z1ZXgnOwoKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlmb3JtOiB7CgkJCQlpZDogMCwKCQkJCXRpdGxlOiAnJywKCQkJCW9yaWdpbl9wcmljZTogMCwKCQkJCXBheV9wcmljZTogMCwKCQkJCXZhbGlkX2RheTogMCwKCQkJfSwKCQkJcnVsZXM6IHsKCQkJCXRpdGxlOiBbewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJbWVzc2FnZTogJ+ivt+i+k+WFpeWRveS7pCcsCgkJCQkJCXRyaWdnZXI6ICdibHVyJwoJCQkJCX0sCgkJCQkJewoJCQkJCQltaW46IDEsCgkJCQkJCW1heDogMzAsCgkJCQkJCW1lc3NhZ2U6ICfplb/luqblnKggMSDliLAgMzAg5Liq5a2X56ymJywKCQkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQkJfQoJCQkJXSwKCQkJCW9yaWdpbl9wcmljZTogW3sKCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQltZXNzYWdlOiAn6K+36L6T5YWl5Y6f5aeL5Lu35qC8JywKCQkJCQl0cmlnZ2VyOiAnYmx1cicKCQkJCX0sIF0sCgkJCQlwYXlfcHJpY2U6IFt7CgkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJbWVzc2FnZTogJ+ivt+i+k+WFpeWunumZheaUr+S7mOS7t+agvCcsCgkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQl9LCBdLAoJCQkJdmFsaWRfZGF5OiBbewoJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCW1lc3NhZ2U6ICfor7fovpPlhaXmnInmlYjmnpzlpKnmlbAnLAoJCQkJCXRyaWdnZXI6ICdibHVyJwoJCQkJfSwgXSwKCQkJfSwKCQkJbG9hZGluZzogZmFsc2UKCQl9Cgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLmZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubWVhbCkpCgl9LAoJY29tcHV0ZWQ6IHsKCQkuLi5tYXBTdGF0ZSgnbWVhbCcsIFsnbWVhbCddKQoJfSwKCW1ldGhvZHM6IHsKCQlzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CgkJCXRoaXMubG9hZGluZyA9IHRydWU7CgkJCXRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewoJCQkJaWYgKHZhbGlkKSB7CgkJCQkJZGVsZXRlIHRoaXMuZm9ybS5jcmVhdGVfdGltZTsKCQkJCQllZGl0TWVhbCh0aGlzLmZvcm0pCgkJCQkJCS50aGVuKChyZXMpID0+IHsKCQkJCQkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7CgkJCQkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZTsKCQkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKCcvbWVhbC9pbmRleCcpCgkJCQkJCX0pCgkJCQkJCS5jYXRjaCgoXykgPT4gewoJCQkJCQkJdGhpcy5sb2FkaW5nID0gZmFsc2U7CgkJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCLnvJbovpHlpLHotKUiKTsKCQkJCQkJfSk7CgkJCQl9IGVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwoJCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfSk7CgkJfSwKCQlyZXNldEZvcm0oZm9ybU5hbWUpIHsKCQkJdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKCQl9Cgl9Cn0K"},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit.vue","sourceRoot":"src/views/meal","sourcesContent":["<template>\r\n\t<div class=\"edit-meal\">\r\n\r\n\t\t<el-form ref=\"form\" label-position=\"left\" :model=\"form\" :rules=\"rules\" label-width=\"200px\">\r\n\t\t\t<el-form-item label=\"套餐标题\" prop=\"title\">\r\n\t\t\t\t<el-input v-model.trim=\"form.title\" minlength=\"1\" maxlength=\"30\" placeholder=\"请输入30个字符以内的标题\" />\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"原始价格\" prop=\"origin_price\">\r\n\t\t\t\t<el-input-number v-model=\"form.origin_price\" :min=\"1\" :controls=\"false\" label=\"请输入原始价格\">\r\n\t\t\t\t</el-input-number>\r\n\t\t\t\t元\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"实际支付价格\" prop=\"pay_price\">\r\n\t\t\t\t<el-input-number v-model=\"form.pay_price\" :min=\"1\" :controls=\"false\" label=\"请输入实际支付价格\">\r\n\t\t\t\t</el-input-number>\r\n\t\t\t\t元\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"有效期天数\" prop=\"valid_day\">\r\n\t\t\t\t<el-input-number v-model=\"form.valid_day\" :min=\"1\" :controls=\"false\" label=\"请输入有效果天数\"></el-input-number>\r\n\t\t\t\t天\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item class=\"submit-item\">\r\n\t\t\t\t<el-button @click=\"resetForm('form')\">重置</el-button>\r\n\t\t\t\t<el-button type=\"primary\" :disabled=\"loading\" @click=\"submitForm('form')\">提交</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\teditMeal,\r\n\t} from \"@/api/meal\";\r\n\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\torigin_price: 0,\r\n\t\t\t\t\tpay_price: 0,\r\n\t\t\t\t\tvalid_day: 0,\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\ttitle: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入命令',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\t\tmax: 30,\r\n\t\t\t\t\t\t\tmessage: '长度在 1 到 30 个字符',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\torigin_price: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入原始价格',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tpay_price: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入实际支付价格',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\tvalid_day: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入有效果天数',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t},\r\n\t\t\t\tloading: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.form = JSON.parse(JSON.stringify(this.meal))\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState('meal', ['meal'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tdelete this.form.create_time;\r\n\t\t\t\t\t\teditMeal(this.form)\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tthis.$message.success(\"编辑成功\");\r\n\t\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\t\tthis.$router.push('/meal/index')\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((_) => {\r\n\t\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\t\tthis.$message.error(\"编辑失败\");\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.el-form {\r\n\t\tpadding: 0 30px;\r\n\r\n\t\t.el-input,\r\n\t\t.el-input-number {\r\n\t\t\twidth: 300px;\r\n\t\t\tmargin-right: 20px;\r\n\t\t}\r\n\r\n\t\t.submit-item {\r\n\t\t\tmargin-top: 50px;\r\n\t\t}\r\n\t}\r\n</style>\n"]}]}